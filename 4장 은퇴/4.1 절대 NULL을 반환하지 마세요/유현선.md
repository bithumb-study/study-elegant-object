# 4.1 절대 NULL을 반환하지 마세요
> 작성자 : 유현선


NULL 을 절대 반환해선 안되는 이유 : 객체에 대한 **신뢰**가 무너짐  

## 빠르게 실패하기 (O) vs 안전하게 실패하기 (X)
소프트웨어 견고성(software robustness)  
실패 탄력회복성(failure resilience)   

### 안전하게 실패하기 
- 버그, 입출력 문제, 메모리 오버플로우 등이 발생한 상황에서도 소프트웨어가 계속 실행될 수 있도록 최대한 많은 노력을 기울일 것을 권장
- ex) NULL 을 반환하는 것 또한 생존기법


### 빠르게 실패하기 
- 일단 문제가 발생하면 곧바로 실행을 중단하고 최대한 빨리 예외를 던진다.
- 단위테스트에서 실패 상황을 쉽게 재현할 수 있음 -> 문제를 간단하게 수정 가능
- 실패를 감추는 대신 강조(분명하게) 하여 추적하기 쉽게 만든다.


더 빠르게 문제를 찾을수록 더 빠르게 실패하고, 결과적으로 전체적인 품질이 향상된다. (빠르게 실패하기)  
더 오래 숨길수록 문제는 더 커진다(안전하게 실패하기)  


## NULL 의 대안
1) 메서드를 두개로 나눈다 (=객체의 존재를 확인하는 boolean 메서드를 생성)
    - 객체의 존재를 확인 / 객체를 반환
    - 단점: 데이터베이스에 요청을 두 번 전송하기 때문에 비효율적
2) NULL 을 반환 or 예외를 던지는 대신 객체 컬렉션을 반환
3) (java 8 이상) `Optional` 을 사용
    - `Optional` 은 컬렉션과 동일하지만, 오직 하나의 요소만 포함할 수 있다.
    - 의미론적으로 부정확하기 때문에 OOP 와 대립한다고 생각. 비권장
4) null object 디자인 패턴
    - 원하는 객체를 발견하지 못할 경우, 겉으로 보기에는 원래의 객체처럼 보이지만 실제로는 다르게 행동하는 객체를 반환
    - 장점 : 객체지향적인 사고
    - 단점 : 제한된 상황에서만 사용 가능, 반환된 객체의 타입을 동일하게 유지하도록 주의해야한다.


---

## 읽고 느낀점
null 객체를 반환하면 안된다는 필자의 말에는 1000% 동의하지만 마지막 대안 방법인 null object 디자인 패턴은 잘 납득되지 않는다.  
비권장이라고 한 Optional 과 다를바가 없는 것 같다. 