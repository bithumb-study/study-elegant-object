# 간략한 내용 정리

- 테스트를 최적화 하기 위한 도구인 모킹(전통적인 방식) 의존성 과 관련된것을 호출 하는것 대신 모의 객체를 생성하는 방법
    - 이 책에서는 모킹은 나쁜 프렉티스 추천하는 방식은 페이크 객체이다.

- 페이크 객체를 가진 인터페이스 
  - 단위테스트에서 exchange 인터페이스를 쉽게 테스트 할수 있는 구성요소
```java
interface Exchange {
  float rate(String origin, String target);
  
  final class Fake implements Exchange {
    @Override
    public float rate(String origin, String target) {
      return 1.2345;
    }
  }
}

class Test{
    public void main(){
        Exchange exchange = new Exchange.Fake();
        Cash dollar = new Cash(exchange,500);
        Cash euro = dollar.in("EUR");
        assert "6.17".equals(euro.toString());
    }
}
```
- 페이크 클래스를 캡슐화 하여 똑똑히 만들면 더 강력하지만 페이크 클래스를 만족하는 테스트가 아니라
페이크 클래스가 테스트를 올바르게 지원하도록 만들어야한다.
- 테스트 케이스가 좀더 명확 단순해진다.
  - 유지보수성이 향상 
  - 모킹은 테스트가 장황해져 리팩토링이 어려워진다.
  - !! 모킹은 가정을 사실로 전환하기 때문에 유지보수가 어렵다.
  - 리팩토링시 단위 테스트가 너무 쉽게 꺠지는 이유는 모킹 때문
  - 페이크 객체를 사용하게 되면 인터페이스가 변하게되면 자연스럽게 페이크 클래스도 함께 변경된다.

# 읽고 느낀점
- 우선 테스트 코드를 최근에서야 짜기 시작했는데 의존성과 관련된것들은 당연히
모킹을 하여서 짜야한다는것이 머리에 박혀있었다.
- 최근 프로젝트를 진행하면서 코드가 변경될때 단위테스트도 같이 리팩토링이 많이 되었는데
이때 항상 문제가 길어진 모킹 구현과 안에 박혀있던 상수였습니다.
- 하지만 이챕터를 읽고 나서 페이크 객체를 주게 되면 훨씬 코드를 짧고 유지보수하기 좋게 하기 만들수있을거수 같습니다.
  - 예를 들어 상수대신 캡슐화를 하여 유연하게 가짜 객체를 만들수있고 또한 리팩토링시 단위테스트 수정 없이 
  리팩토링을 이어 나갈수 있을것 같습니다.

# 공유 하고 싶은내용
- 인터페이스를 사용하고 그 인터페이스 페이크 객체를 넣게되면 만약 이런 내용을 모르는 사람은 (예를 들어 민호)
지워 버리지 않을까요? ㅎㅎ